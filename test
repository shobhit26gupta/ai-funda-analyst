def extract_text_from_pdf(file_path: str) -> str:
    import fitz  # PyMuPDF
    import pytesseract
    from PIL import Image
    import io

    doc = fitz.open(file_path)
    all_text = ""
    for page in doc:
        text = page.get_text()
        if not text.strip():  # If text is empty, fallback to OCR
            pix = page.get_pixmap(dpi=300)  # Higher DPI improves OCR accuracy
            img_data = pix.tobytes("png")
            image = Image.open(io.BytesIO(img_data))
            text = pytesseract.image_to_string(image)
        all_text += text + "\n"
    return all_text
